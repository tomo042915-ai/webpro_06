# 開発者用仕様書（仮）：プレミアリーグクラブ情報管理 

## 1. 概要

本ドキュメントは、Express.jsを使用して構築された「プレミアリーグクラブ情報管理アプリケーション」のAPI（ルーティング）仕様を定義するものである。対象データは、アプリケーションコード内の配列`premierClubs`に格納されている。

## 2. データ構造

本アプリケーションで扱うプレミアリーグクラブのデータ構造は、以下の通りである。

| フィールド名 | 型 | 説明 | 使用例 |
| :--- | :--- | :--- | :--- |
| `id` | Number | クラブID (一意) | `1` |
| `shortName` | String | 略称 (3文字) | `"MCI"` |
| `name` | String | クラブ名（日本語） | `"マンチェスター・シティ"` |
| `marketValue` | Number | 推定市場価値（奥） | `13.0` |
| `manager` | String | 監督名 | `"ジョゼップ・グアルディオラ"` |
| `stadium` | String | ホームスタジアム名 | `"エティハド・スタジアム"` |

**データ配列名**: `premierClubs`

## 3. リソースとルーティング一覧

ベースURLはルートディレクトリとする（例: `http://localhost:8080`）。

| 目的 | HTTPメソッド | リソース名 (URI) | 処理内容 | テンプレート/レスポンス |
| :--- | :--- | :--- | :--- | :--- |
| **クラブ一覧**表示 | `GET` | `/premier` | 全クラブの情報を取得し、一覧表示する。 | `club_list.ejs` |
| **クラブ詳細**表示 | `GET` | `/premier/:index` | 指定されたインデックスのクラブ詳細情報を取得し、表示する。 | `club_detail.ejs` |

> :bulb: `premierClubs`配列は0から始まるため、`:index`は配列のインデックス（0, 1, 2...）を指す。

## 4. ルーティング詳細

### 4.1. クラブ一覧表示

| 項目 | 内容 |
| :--- | :--- |
| **ルーティング** | `app.get("/premier", ...)` |
| **URI** | `/premier` |
| **メソッド** | `GET` |
| **機能** | `premierClubs`配列全体を読み込み、一覧表示画面をレンダリングする。 |
| **引数/パラメータ** | なし |
| **処理ロジック** | 1. DB（ここでは`premierClubs`）から全データを取得。<br>2. テンプレート`club_list.ejs`にデータを渡してレスポンスする。 |

### 4.2. クラブ詳細表示

| 項目 | 内容 |
| :--- | :--- |
| **ルーティング** | `app.get("/premier/:index", ...)` |
| **URI** | `/premier/:index` |
| **メソッド** | `GET` |
| **機能** | URLパスに含まれる`:index`に対応するクラブの詳細情報を表示する。 |
| **引数/パラメータ** | **パスパラメータ**: `:index` (Number, `premierClubs`配列のインデックス) |
| **処理ロジック** | 1. `:index`を数値として取得し、配列の範囲内かチェックする。<br>2. `premierClubs[index]`のデータを取得。<br>3. テンプレート`club_detail.ejs`にデータを渡してレスポンスする。<br>4. インデックスが範囲外の場合はHTTP 404エラーを返す。 |

## 5. データの初期状態

アプリケーション起動時の`premierClubs`配列の初期データは以下の通り。

```javascript
[
  { id: 1, shortName: "MCI", name: "マンチェスター・シティ", marketValue: 13.0, manager: "ジョゼップ・グアルディオラ", stadium: "エティハド・スタジアム" },
  { id: 2, shortName: "ARS", name: "アーセナル", marketValue: 11.5, manager: "ミケル・アルテタ", stadium: "エミレーツ・スタジアム" },
  { id: 3, shortName: "LIV", name: "リヴァプール", marketValue: 9.2, manager: "ユルゲン・クロップ", stadium: "アンフィールド" },
  // ... 以下省略
]